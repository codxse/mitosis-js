export default {
  plugins: {
    '@release-it/conventional-changelog': {
      infile: 'CHANGELOG.md',
      preset: 'angular',
      ignoreRecommendedBump: true,
      releaseAs: 'minor',
    },
  },
  bump: {
    preid: 'rc',
    replace: {
      files: ['package.json'],
    },
  },
  git: {
    commitMessage: 'chore: release v${version}',
    requireCleanWorkingDir: true,
    requireBranch: false,
    files: ['CHANGELOG.md', 'package.json'],
  },
  github: {
    release: false,
  },
  npm: {
    publish: false,
  },
  hooks: {
    'before:init': ['pnpm test', 'pnpm run build'],
    'after:bump': 'pnpm exec conventional-changelog -p angular -i CHANGELOG.md -s',
  },
}
